{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\scripts\\utils/assets\\scripts\\utils\\Chat.js"],"names":["cc","Class","extends","Component","properties","_chatVoice","_chatRoot","_tabQuick","_tabEmoji","_tabQuickBtn","_tabEmojiBtn","_iptChat","_bg2","_quickChatInfo","onLoad","self","node","active","find","getChildByName","loader","loadRes","SpriteFrame","err","spriteFrame","getComponent","Button","normalSprite","quickchildren","children","i","length","name","indexOf","vv","uitools","addClickEvent","netRoot","on","msgBean","index","content","sound","getQuickChatInfo","key","onBtnChatClicked","onBgClicked","onTabClicked","event","target","onQuickChatItemClicked","info","socket","send","onEmojiItemClicked"],"mappings":"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","file":"Chat.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\utils","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        _chatVoice:null,\r\n        _chatRoot:null,\r\n        _tabQuick:null,\r\n        _tabEmoji:null,\r\n        _tabQuickBtn:null,\r\n        _tabEmojiBtn:null,\r\n        _iptChat:null,\r\n        _bg2:null,\r\n        _quickChatInfo:null,\r\n    },\r\n\r\n    onLoad: function () {\r\n        var self = this;\r\n        this.node.active = true;\r\n        this._chatVoice = cc.find(\"Canvas/seatinfo/chat_voice\");\r\n        this._chatVoice.active = true;\r\n        \r\n        this._tabQuickBtn = this.node.getChildByName(\"chatinfo\").getChildByName(\"tabMsg\");\r\n        this._tabEmojiBtn = this.node.getChildByName(\"chatinfo\").getChildByName(\"tabEmoji\");\r\n        cc.loader.loadRes(\"chat/tabMsg_2\", cc.SpriteFrame, function (err, spriteFrame) {\r\n\t\t\tself._tabQuickBtn.getComponent(cc.Button).normalSprite = spriteFrame;\r\n        });\r\n        \r\n        this._tabQuick = this.node.getChildByName(\"chatinfo\").getChildByName(\"msgScroll\");\r\n        var quickchildren = this._tabQuick.getChildByName(\"view\").getChildByName(\"content\").children;\r\n        for (var i = 0; i < quickchildren.length; ++i) {\r\n            if(quickchildren[i].name.indexOf(\"item\")>=0){\r\n                cc.vv.uitools.addClickEvent(quickchildren[i],this.node,\"Chat\",\"onQuickChatItemClicked\");\r\n            }\r\n        }\r\n\r\n        cc.vv.netRoot.on('show_chat_click',function(msgBean){\r\n            self.node.active = true;\r\n        });\r\n        this._quickChatInfo = {};\r\n        this._quickChatInfo[\"item0\"] = {index:0,content:\"玩游戏，请先进群 \",sound:\"fix_msg_1.m4a\"};\r\n        this._quickChatInfo[\"item1\"] = {index:1,content:\"群内游戏，切勿转发 \",sound:\"fix_msg_2.m4a\"};\r\n        this._quickChatInfo[\"item2\"] = {index:2,content:\"别磨蹭，快点打牌 \",sound:\"fix_msg_3.m4a\"};\r\n        this._quickChatInfo[\"item3\"] = {index:3,content:\"我出去叫人 \",sound:\"fix_msg_4.m4a\"};\r\n        this._quickChatInfo[\"item4\"] = {index:4,content:\"你的牌好靓哇 \",sound:\"fix_msg_5.m4a\"};\r\n        this._quickChatInfo[\"item5\"] = {index:5,content:\"我当年横扫澳门五条街 \",sound:\"fix_msg_6.m4a\"};\r\n        this._quickChatInfo[\"item6\"] = {index:6,content:\"算你牛逼 \",sound:\"fix_msg_7.m4a\"};\r\n        this._quickChatInfo[\"item7\"] = {index:7,content:\"别跟我抢庄 \",sound:\"fix_msg_8.m4a\"};\r\n        this._quickChatInfo[\"item8\"] = {index:8,content:\"输得裤衩都没了 \",sound:\"fix_msg_9.m4a\"};\r\n        this._quickChatInfo[\"item9\"] = {index:9,content:\"我给你们送温暖了 \",sound:\"fix_msg_10.m4a\"};\r\n        this._quickChatInfo[\"item10\"] = {index:10,content:\"谢谢老板 \",sound:\"fix_msg_11.m4a\"};\r\n        this._quickChatInfo[\"item11\"] = {index:11,content:\"别吹牛逼,有本事战到底 \",sound:\"fix_msg_12.m4a\"};\r\n    },\r\n    \r\n    getQuickChatInfo:function(index){\r\n        var key = \"item\" + index;\r\n        return this._quickChatInfo[key];   \r\n    },\r\n\r\n    \r\n    onBtnChatClicked:function(){\r\n        this.node.active = !this.node.active;\r\n    },\r\n    \r\n    onBgClicked:function(){\r\n        this.node.active = false;\r\n    },\r\n\r\n    onTabClicked:function(event){\r\n        var self = this;\r\n        if(event.target.name == \"tabMsg\"){\r\n            this._tabQuick.active = true;\r\n            cc.loader.loadRes(\"chat/tabMsg_2\", cc.SpriteFrame, function (err, spriteFrame) {\r\n\t\t\t\tself._tabQuickBtn.getComponent(cc.Button).normalSprite = spriteFrame;\r\n\t\t\t});\r\n        }\r\n        else if(event.target.name == \"tabEmoji\"){\r\n            this._tabQuick.active = false;\r\n            cc.loader.loadRes(\"chat/tabMsg_1\", cc.SpriteFrame, function (err, spriteFrame) {\r\n\t\t\t\tself._tabQuickBtn.getComponent(cc.Button).normalSprite = spriteFrame;\r\n\t\t\t});\r\n        }\r\n    },\r\n    \r\n    onQuickChatItemClicked:function(event){\r\n        this.node.active = false;\r\n        var info = this._quickChatInfo[event.target.name];\r\n        cc.vv.socket.send('quick_chat', info.index);\r\n    },\r\n    \r\n    onEmojiItemClicked:function(event){\r\n        this.node.active = false;\r\n        cc.vv.socket.send(\"emoji\",event.target.name);\r\n    },\r\n});\r\n"]}