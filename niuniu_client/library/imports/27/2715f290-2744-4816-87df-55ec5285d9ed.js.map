{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\scripts\\comp/assets\\scripts\\comp\\UI.js"],"names":["cc","Class","extends","Component","properties","addClickEvent","node","target","component","handler","eventHandler","EventHandler","clickEvents","getComponent","Button","push","ShowLoading","parent","timeout","self","undefined","loader","loadRes","err","prefab","loading","instantiate","tag","addChild","on","event","getChildByTag","removeChildByTag","setTimeout","ShowAlert","content","onok","showcancelbtn","layer","setPosition","p","alert","show","ShowAlert2","oncancel","okBtnTitle","cancelBtnTitle","show2","ShowTips","showtime","posx","posy","tips","ShowLayer","layerName","agrs","script","init","ShowTime","ClearTime","ShowAnimation","actName","callback","rotation","scalex","scaleX","ctrl","sp","SkeletonData","res","ShowAniNui","value","pos","setPositionY","sprite","Sprite","bgName","getPositionX","SpriteFrame","ShowScoreAni","data","Node","addComponent","director","getScene"],"mappings":"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","file":"UI.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\comp","sourcesContent":["\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n    },\n\n    addClickEvent:function(node,target,component,handler){\n        var eventHandler = new cc.Component.EventHandler();\n        eventHandler.target = target;\n        eventHandler.component = component;\n        eventHandler.handler = handler;\n        var clickEvents = node.getComponent(cc.Button).clickEvents;\n        clickEvents.push(eventHandler);\n    },\n\n    ShowLoading:function(parent,timeout){\n        var self = this\n        if( timeout == undefined ||  timeout == null ){\n            timeout = 8000;\n        };\n        cc.loader.loadRes(\"prefabs/LoadingUI\",function(err,prefab){\n            var loading = cc.instantiate(prefab);\n            loading.tag = 10001;\n            parent.addChild(loading);\n        });\n        parent.on(\"on_hide_loading_ui\",function(event){\n            if(parent.getChildByTag(10001)  !== null){\n                parent.removeChildByTag(10001);\n            }\n        });\n        setTimeout(function() {\n            if(parent.getChildByTag(10001)  !== null){\n                parent.removeChildByTag(10001);\n            }\n        }, timeout);\n    },\n\n    ShowAlert:function(parent,content,onok,showcancelbtn){\n        cc.loader.loadRes(\"prefabs/AlertUI\",function(err,prefab){\n            var layer = cc.instantiate(prefab);\n            layer.setPosition(cc.p(0, 0));\n            layer.tag = 10003;\n            if(parent.getChildByTag(10003)  !== null){\n                parent.removeChildByTag(10003);\n            }\n            parent.addChild(layer);\n            var alert = layer.getComponent(\"Alert\");\n            alert.show(content,onok,showcancelbtn);\n        });\n    },\n    ShowAlert2:function(parent,content,onok,oncancel,showcancelbtn,okBtnTitle,cancelBtnTitle){\n        cc.loader.loadRes(\"prefabs/AlertUI2\",function(err,prefab){\n            var layer = cc.instantiate(prefab);\n            layer.setPosition(cc.p(0, 0));\n            layer.tag = 10003;\n            if(parent.getChildByTag(10003)  !== null){\n                parent.removeChildByTag(10003);\n            }\n            parent.addChild(layer);\n            var alert = layer.getComponent(\"Alert\");\n            alert.show2(content,onok,oncancel,showcancelbtn,okBtnTitle,cancelBtnTitle);\n        });\n    },\n    ShowTips:function(parent,content,showtime,posx,posy){\n        cc.loader.loadRes(\"prefabs/TipsUI\",function(err,prefab){\n            var layer = cc.instantiate(prefab);\n            layer.tag = 10002;\n            parent.addChild(layer);\n            if(posx !== undefined || posy !== undefined ){\n                layer.setPosition(cc.p(posx,posy));\n            }\n            var tips = layer.getComponent(\"Tips\");\n            tips.show(content);\n        });\n        if(showtime == null || showtime == undefined){\n            showtime = 3000;\n        }\n        setTimeout(function() {\n            if(parent.getChildByTag(10002)  !== null){\n                parent.removeChildByTag(10002);\n            }\n        }, showtime);\n    },\n\n    ShowLayer:function(layerName,parent,agrs){\n        cc.loader.loadRes(\"prefabs/\"+layerName,function(err,prefab){\n            var layer = cc.instantiate(prefab);\n            layer.tag = 10004;\n            if(parent.getChildByTag(10004)  !== null){\n                parent.removeChildByTag(10004);\n            }\n            parent.addChild(layer);\n            if(agrs && layer.getComponent(layerName)){ // \n                var script = layer.getComponent(layerName);\n                script.init(agrs)\n            } \n        });\n    },\n\n    ShowTime:function(layerName,parent,agrs){\n        if(parent.getChildByTag(10005)  !== null){\n            parent.removeChildByTag(10005);\n        }\n        cc.loader.loadRes(\"prefabs/\"+layerName,function(err,prefab){\n            var layer = cc.instantiate(prefab);\n            layer.tag = 10005;\n            if(parent.getChildByTag(10005)  !== null){\n                parent.removeChildByTag(10005);\n            }\n            parent.addChild(layer);\n            if(agrs && layer.getComponent(layerName)){ \n                var script = layer.getComponent(layerName);\n                script.init(agrs)\n            } \n        });\n    },\n    ClearTime:function(parent){\n        if(parent.getChildByTag(10005)  !== null){\n            parent.removeChildByTag(10005);\n        }\n    },\n\n    ShowAnimation:function(actName,parent,agrs,callback){\n        cc.loader.loadRes(\"prefabs/Animations\",function(err,prefab){\n            var layer = cc.instantiate(prefab);\n            parent.addChild(layer);\n            if(agrs !== undefined ){\n                if(agrs.posx !== undefined && agrs.posy !== undefined){\n                    layer.setPosition(cc.p(agrs.posx,agrs.posy))\n                }\n                if(agrs.rotation !== undefined ){\n                    layer.rotation = agrs.rotation;\n                }\n                if(agrs.scalex !== undefined){\n                    layer.scaleX = agrs.scalex;\n                }\n            }\n            var ctrl = layer.getComponent(\"SpineAniCtrl\");\n            cc.loader.loadRes(\"animation/\"+actName, sp.SkeletonData, function(err,res){\n                ctrl.init(res,agrs,callback);\n            });\n        });\n    },\n\n    ShowAniNui:function(value,parent,pos){\n        cc.loader.loadRes(\"prefabs/Pokertype\",function(err,prefab){\n            var layer = cc.instantiate(prefab);\n            layer.setPositionY(-20);\n            parent.addChild(layer);\n            var ctrl = layer.getComponent(\"PokerAct\");\n            var sprite = layer.getComponent(cc.Sprite);\n            var bgName = \"\"\n            if(value >= 10){\n                bgName = \"bg_niu3\";\n            }else if(value > 0){\n                bgName = \"bg_niu2\";\n            }else{\n                bgName = \"bg_niu1\";\n            }\n            if(pos !== undefined){\n                layer.setPosition(cc.p(110,135));\n            }else{\n                if(parent.getPositionX()<0){\n                    layer.setPosition(cc.p(26,-45));\n                }else{\n                    layer.setPosition(cc.p(0,-45));\n                }\n                \n            }\n\t\t\t/*\n            cc.loader.loadRes(\"niuniu/\"+bgName + \".png\", cc.SpriteFrame, function (err, spriteFrame){\n                 sprite.spriteFrame = spriteFrame;\n            });\n\t\t\t*/\n            cc.loader.loadRes(\"niuniu/bullfight_type\"+value + \".png\", cc.SpriteFrame, function(err,res){\n                ctrl.init(res);\n            }); \n        });\n    },\n\n    ShowScoreAni:function(data){\n        var node = new cc.Node();\n        node.tag = 11001;\n        node.addComponent(\"ScoreAni\");\n        cc.director.getScene().addChild(node);\n        var ctrl = node.getComponent(\"ScoreAni\");\n        ctrl.show(data,node);\n    },\n\n    \n\n});\n"]}