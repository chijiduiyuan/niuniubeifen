{"version":3,"sources":["Seat.js"],"names":["cc","Class","extends","Component","properties","_isinit","_unsel","_userInfo","_offline","_userName","_userScore","_userImage","_userState","_userFrame","_bg","_info","_userIcon","_voicemsg","_adj","_voicetime","_voicenum","_fangzhu","_guanzhan","onLoad","init","_state","node","getChildByName","_statesp","_stateSpr","getComponent","Sprite","Label","active","getUserIcon","spriteFrame","showZhuan","bool","getIsZhuan","onIconClicked","event","status","msg","uid","ip","userName","vv","uitools","ShowLayer","director","getScene","setUserIcon","avatar","self","loader","load","decodeURIComponent","err","tex","width","SpriteFrame","Rect","height","getSeatUid","undefined","voiceMsg","show","Date","now","updateQiangStatus","beishu_0","i","gameNetMgr","playerList","length","p","isGrab","onShowState","pic","beishu","rate","win","lose","ready","loadRes","beishuSpr","onShowStateBNum","value","state","stopAllActions","label","string","opacity","Math","abs","actArr","Array","action1","moveBy","action2","fadeOut","action3","push","seq","sequence","runAction","updateUser","infos","card","hideCard","Grobal","dispatchEvent","QiangNum","baserate","setUserInfo","info","isOnline","getIsOpen","score","isQiang","setUserFrame","act","scaleTo","audioMgr","playSFX","hideStatus","showFrameAction","action0","fadeIn","blink","action4","updateScore","update","dt","children"],"mappings":"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","file":"Seat.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\comp","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        _isinit:false,\r\n        _unsel:null,\r\n        _userInfo:null,\r\n        _offline:null,\r\n        _userName:null,\r\n        _userScore:null,\r\n        _userImage:null,\r\n        _userState:null,\r\n        _userFrame:null,\r\n        _bg:null,\r\n        _info:null,\r\n        _userIcon:null,\r\n        _voicemsg:null,\r\n        _adj:null,\r\n\t\t_voicetime:0,\r\n\t\t_voicenum:3,\r\n        _fangzhu:null,\r\n        _guanzhan:null,\r\n    },\r\n\r\n    onLoad: function () {\r\n        if(this._isinit == false){\r\n            this.init();\r\n        }\r\n    },\r\n\r\n    init:function(){\r\n        this._state = this.node.getChildByName(\"state\");\r\n\r\n        this._statesp = this._state.getChildByName(\"spr\");\r\n        this._stateSpr = this._state.getChildByName(\"spr\").getComponent(cc.Sprite);\r\n        this._userInfo = this.node.getChildByName(\"user_info\");\r\n        this._guanzhan = this._userInfo.getChildByName(\"guanzhan\");\r\n        this._offline = this._userInfo.getChildByName(\"user_offline\");\r\n        this._fangzhu = this._userInfo.getChildByName(\"fangzhu\");\r\n        this._userState = this._userInfo.getChildByName(\"user_state\");\r\n        this._userName = this._userInfo.getChildByName(\"user_name\").getComponent(cc.Label); \r\n        this._userScore = this._userInfo.getChildByName(\"user_score\").getComponent(cc.Label);       \r\n        this._userIcon = this._userInfo.getChildByName(\"user_icon\").getComponent(cc.Sprite); \r\n        this._userFrame = this._userInfo.getChildByName(\"frame\");\r\n        this._userFrame.active = false\r\n        this._voicemsg = this.node.getChildByName(\"voicemsg\");  \r\n        if(this._voicemsg!=null){\r\n\t\t\tthis._adj = this._voicemsg.getChildByName(\"adj\");\r\n            this._voicemsg.active = false;\r\n\t\t}    \r\n        this._isinit = true\r\n    },\r\n\r\n    getUserIcon:function(){\r\n        return this._userIcon.spriteFrame;\r\n    },\r\n    showZhuan:function(bool){\r\n         this._fangzhu.active = bool;\r\n    },\r\n    getIsZhuan:function(){\r\n        if(this._fangzhu.active == true){\r\n            return true;\r\n        }\r\n        return false;\r\n    },\r\n    onIconClicked:function(event){\r\n        if(this._info.status ==\"standup\"){\r\n            return\r\n        }\r\n        var msg ={};\r\n        msg.spriteFrame = this._userIcon.spriteFrame;\r\n        msg.uid = this._info.uid;\r\n        msg.ip = this._info.ip;\r\n        msg.userName = this._info.userName;\r\n        cc.vv.uitools.ShowLayer(\"UserInfo\",cc.director.getScene(),msg);\r\n    },\r\n    setUserIcon:function(avatar){\r\n        var self = this;\r\n        cc.loader.load(decodeURIComponent(avatar),function (err,tex) {\r\n\t\t\tif(tex && tex.width>0){\r\n\t\t\t\tself._userIcon.spriteFrame = new cc.SpriteFrame(tex, cc.Rect(0, 0, tex.width, tex.height));\r\n\t\t\t}\r\n\t\t});\r\n    },\r\n    getSeatUid:function(){\r\n        if(this._info == undefined || this._info == null){\r\n            return -1;\r\n        }\r\n        return this._info.uid;\r\n    },\r\n    voiceMsg:function(show){\r\n        if(this._voicemsg){\r\n            this._voicemsg.active = show;\r\n\t\t\tif(show===true){\r\n\t\t\t\tthis._voicenum=3;\r\n\t\t\t\tthis._voicetime=Date.now();\t\r\n\t\t\t}else{\r\n\t\t\t\tthis._voicetime=0;\t\r\n\t\t\t}\r\n        }\r\n    },\r\n    updateQiangStatus:function(){\r\n        var self = this;\r\n        var beishu_0 = self._state.getChildByName(\"beishu\");\r\n        for(var i=0;i<cc.vv.gameNetMgr.playerList.length;i++){\r\n            var p =cc.vv.gameNetMgr.playerList[i];\r\n            if(p.isGrab==true&&p.uid==self._info.uid){\r\n                if(beishu_0!=undefined&&beishu_0!=null){\r\n                    beishu_0.active = true;\r\n                }\r\n            }\r\n        }\r\n        self._statesp.active = false;\r\n    },\r\n    onShowState:function(pic,beishu){\r\n        var self = this\r\n        if(!beishu){\r\n            beishu=0;\r\n        }\r\n        if(pic == \"wu\"){\r\n            self._state.active = false;\r\n            self._statesp.active = false;\r\n            return\r\n        }\r\n        self._state.active = true;\r\n        self._statesp.active = true;\r\n        var rate = self._state.getChildByName(\"rate\");\r\n        var win = self._state.getChildByName(\"win\");\r\n        var lose = self._state.getChildByName(\"lose\");\r\n        var beishu_0 = self._state.getChildByName(\"beishu\");\r\n        var ready = self._state.getChildByName(\"ready\");\r\n        rate.active = false;\r\n        win.active = false;\r\n        lose.active = false;\r\n        ready.active = false;\r\n        if(pic==\"ready\"){\r\n            self._statesp.active = false;\r\n            cc.loader.loadRes(\"niuniu/\"+pic+\".png\", cc.SpriteFrame, function (err, spriteFrame) {\r\n                ready.getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n            });\r\n            ready.active = true;\r\n            return ;\r\n        }\r\n        if(beishu_0!=undefined&&beishu_0!=null){\r\n            beishu_0.active = false;\r\n        }\r\n        var beishuSpr = self._statesp.getChildByName(\"beishu\");\r\n        if(beishu>0){\r\n            cc.loader.loadRes(\"niuniu/\"+pic+\".png\", cc.SpriteFrame, function (err, spriteFrame) {\r\n                    self._stateSpr.spriteFrame = spriteFrame;\r\n            });\r\n            cc.loader.loadRes(\"niuniu/x\" + beishu + \".png\", cc.SpriteFrame, function (err, spriteFrame) {\r\n                beishuSpr.getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n            });\r\n            beishuSpr.active = true;\r\n             if(beishu_0!=undefined&&beishu_0!=null){\r\n                 cc.loader.loadRes(\"niuniu/x\" + beishu + \".png\", cc.SpriteFrame, function (err, spriteFrame) {\r\n                    beishu_0.getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n                });\r\n                beishu_0.active = false;\r\n            }\r\n        }else{\r\n            cc.loader.loadRes(\"niuniu/\" + pic + \".png\", cc.SpriteFrame, function (err, spriteFrame) {\r\n                self._stateSpr.spriteFrame = spriteFrame;\r\n            });\r\n            if(beishuSpr!=undefined&&beishuSpr!=null){\r\n                beishuSpr.active = false;\r\n            }\r\n            if(beishu_0!=undefined&&beishu_0!=null){\r\n                 cc.loader.loadRes(\"niuniu/x1.png\", cc.SpriteFrame, function (err, spriteFrame) {\r\n                    beishu_0.getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n                });\r\n                beishu_0.active = false;\r\n            }\r\n        }\r\n    },\r\n\r\n    onShowStateBNum:function(value,state){\r\n        var self = this\r\n        self._state.active = true;\r\n        self._statesp.active = false;\r\n        var rate = self._state.getChildByName(\"rate\");\r\n        var win = self._state.getChildByName(\"win\");\r\n        var lose = self._state.getChildByName(\"lose\");\r\n        var beishu_0 = self._state.getChildByName(\"beishu\");\r\n        var ready = self._state.getChildByName(\"ready\");\r\n        beishu_0.active =false;\r\n        ready.active =false;\r\n        win.stopAllActions();\r\n        lose.stopAllActions();\r\n        if(state == \"rate\"){\r\n            rate.active = true;\r\n            win.active = false;\r\n            lose.active = false;\r\n            var label = rate.getComponent(cc.Label);\r\n            label.string = \"x\" + value;\r\n        }else{\r\n            if(value > 0){\r\n                rate.active = false;\r\n                win.active = true;\r\n                win.opacity = 255;\r\n                lose.active = false;\r\n                var label = win.getComponent(cc.Label);\r\n                label.string = \"+\" + Math.abs(value);\r\n            }else{\r\n                rate.active = false;\r\n                win.active = false;\r\n                lose.active = true;\r\n                lose.opacity = 255;\r\n                var label = lose.getComponent(cc.Label);\r\n                label.string = \"-\" + Math.abs(value);\r\n            }\r\n            var actArr = new Array();\r\n            var action1 = cc.moveBy(2, cc.p(0, 30)); \r\n            var action2 = cc.fadeOut(0.1); \r\n            var action3 = cc.moveBy(0.2, cc.p(0, -30)); \r\n            actArr.push(action1)\r\n            actArr.push(action2)\r\n            actArr.push(action3)\r\n            var seq = cc.sequence(actArr);\r\n            if(value > 0){\r\n                win.runAction(seq);\r\n            }else{\r\n                lose.runAction(seq);\r\n            }\r\n        }\r\n    },\r\n    updateUser:function(infos){\r\n        var self = this;\r\n        var ready = self._state.getChildByName(\"ready\");\r\n        var beishuSpr = self._statesp.getChildByName(\"beishu\");\r\n        var beishu_0 = self._state.getChildByName(\"beishu\");\r\n        var rate = self._state.getChildByName(\"rate\");\r\n        if(infos.status==\"standup\"){\r\n            var card =  this.node.getComponent(\"Card\");\r\n            card.hideCard();\r\n            if(Grobal.uid==self._info.uid){\r\n                cc.vv.gameNetMgr.dispatchEvent('game_restart_notice');\r\n            }\r\n        }else if(infos.status==\"ready\"){\r\n            self._statesp.active = false;\r\n            beishu_0.active = false;\r\n            self._state.active = true;\r\n            rate.active = false;\r\n            cc.loader.loadRes(\"niuniu/ready.png\", cc.SpriteFrame, function (err, spriteFrame) {\r\n                ready.getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n            });\r\n            ready.active = true;\r\n        }else if(infos.status==\"qianged\"){\r\n            ready.active = false;\r\n            beishu_0.active = false;\r\n            self._statesp.active = true;\r\n            rate.active = false;\r\n            if(infos.QiangNum>0){\r\n                cc.loader.loadRes(\"niuniu/qiangzhuang.png\", cc.SpriteFrame, function (err, spriteFrame) {\r\n                        self._stateSpr.spriteFrame = spriteFrame;\r\n                });\r\n                cc.loader.loadRes(\"niuniu/x\" + infos.QiangNum + \".png\", cc.SpriteFrame, function (err, spriteFrame) {\r\n                    beishuSpr.getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n                });\r\n                beishuSpr.active = true;\r\n            }else{\r\n                cc.loader.loadRes(\"niuniu/nograb_icon.png\", cc.SpriteFrame, function (err, spriteFrame) {\r\n                    self._stateSpr.spriteFrame = spriteFrame;\r\n                });\r\n                beishuSpr.active = false;\r\n            }\r\n        }else if(infos.status==\"beishu\"){\r\n            ready.active = false;\r\n            beishu_0.active = false;\r\n            self._statesp.active = false;\r\n            rate.active = false;\r\n            if(infos.isGrab == true){\r\n                cc.loader.loadRes(\"niuniu/x\" + infos.QiangNum + \".png\", cc.SpriteFrame, function (err, spriteFrame) {\r\n                    beishu_0.getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n                });\r\n                beishu_0.active = true;\r\n                self._fangzhu.active = true;\r\n            }\r\n        }else if(infos.status==\"beishued\"||infos.status==\"arranging\"||self._info.status==\"arranged\"){\r\n            ready.active = false;\r\n            beishu_0.active = false;\r\n            self._statesp.active = false;\r\n            if(infos.isGrab == true){\r\n                cc.loader.loadRes(\"niuniu/x\" + infos.QiangNum + \".png\", cc.SpriteFrame, function (err, spriteFrame) {\r\n                    beishu_0.getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n                });\r\n                beishu_0.active = true;\r\n                self._fangzhu.active = true;\r\n                rate.active = false;\r\n            }else{\r\n                if(infos.baserate >0){\r\n                    var label = rate.getComponent(cc.Label);\r\n                    label.string = \"x\" + infos.baserate;\r\n                    rate.active = true;\r\n                }\r\n            }\r\n        }\r\n    },\r\n    setUserInfo:function(info){\r\n        var self = this;\r\n        self._info = info;\r\n        if(this._isinit == false){\r\n            self.init();\r\n        }\r\n\t\tif(self._info == null || self._info.status == null ){  \r\n            this._state.active = false;\r\n            this._userInfo.active = false;\r\n        }else{\r\n            var ready = self._state.getChildByName(\"ready\");\r\n            var beishuSpr = self._statesp.getChildByName(\"beishu\");\r\n            var beishu_0 = self._state.getChildByName(\"beishu\");\r\n            var rate = self._state.getChildByName(\"rate\");\r\n            this._state.active = false;\r\n            \r\n            if(self._info.isOnline){\r\n                if(self._info.status==\"ready\"){\r\n                    this._state.active = true;\r\n                    ready.active = true;\r\n                    beishuSpr.active = false;\r\n                    beishu_0.active = false;\r\n                    rate.active = false;\r\n                    self._statesp.active = false;\r\n                    self._fangzhu.active = false;\r\n                }else if(self._info.status==\"qianged\"){\r\n                    if(self._info.QiangNum>0){\r\n                        cc.loader.loadRes(\"niuniu/qiangzhuang.png\", cc.SpriteFrame, function (err, spriteFrame) {\r\n                                self._stateSpr.spriteFrame = spriteFrame;\r\n                        });\r\n                        cc.loader.loadRes(\"niuniu/x\" + self._info.QiangNum + \".png\", cc.SpriteFrame, function (err, spriteFrame) {\r\n                            beishuSpr.getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n                        });\r\n                        beishuSpr.active = true;\r\n                    }else{\r\n                        cc.loader.loadRes(\"niuniu/nograb_icon.png\", cc.SpriteFrame, function (err, spriteFrame) {\r\n                            self._stateSpr.spriteFrame = spriteFrame;\r\n                        });\r\n                        beishuSpr.active = false;\r\n                    }\r\n                    self._statesp.active = true;\r\n                    self._state.active = true;\r\n                    ready.active = false;\r\n                    beishu_0.active = false;\r\n                    rate.active = false;\r\n                }else if(self._info.status==\"beishu\"){\r\n                    if(self._info.isGrab==true){\r\n                        if(self._info.QiangNum==0||self._info.QiangNum==undefined){\r\n                            self._info.QiangNum =1;\r\n                        }\r\n                        cc.loader.loadRes(\"niuniu/x\" + self._info.QiangNum + \".png\", cc.SpriteFrame, function (err, spriteFrame) {\r\n                            beishu_0.getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n                        });\r\n                        beishu_0.active = true;\r\n                        self._state.active = true;\r\n                        self._fangzhu.active = true;\r\n                    }else{\r\n                        self._state.active = false; \r\n                    }\r\n                    self._statesp.active = false;\r\n                    ready.active = false;\r\n                    beishuSpr.active = false;\r\n                    rate.active = false;\r\n                }else if(self._info.status==\"beishued\"||self._info.status==\"arranging\"||self._info.status==\"arranged\"){\r\n                    if(self._info.isGrab==true){\r\n                        if(self._info.QiangNum==0||self._info.QiangNum==undefined){\r\n                            self._info.QiangNum =1;\r\n                        }\r\n                        cc.loader.loadRes(\"niuniu/x\" + self._info.QiangNum + \".png\", cc.SpriteFrame, function (err, spriteFrame) {\r\n                            beishu_0.getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n                        });\r\n                        self._fangzhu.active = true;\r\n                        beishu_0.active = true;\r\n                        self._state.active = true;\r\n                        self._statesp.active = false;\r\n                        ready.active = false;\r\n                        beishuSpr.active = false;\r\n                        rate.active = false;\r\n                    }else{\r\n                        if(self._info.baserate >0){\r\n                            var label = rate.getComponent(cc.Label);\r\n                            label.string = \"x\" + self._info.baserate;\r\n                            rate.active = true;\r\n                            self._state.active = true;\r\n                            beishu_0.active = false;\r\n                        }\r\n                        self._statesp.active = false;\r\n                        ready.active = false;\r\n                        beishuSpr.active = false;\r\n                    }\r\n                }\r\n            }\r\n           \r\n            this._userInfo.active = true;\r\n            if(self._info.avatar!=null && self._info.avatar!=undefined){\r\n                self.setUserIcon(self._info.avatar);\r\n            }\r\n            self._guanzhan.active = false;\r\n            if((self._info.status==\"standup\"||self._info.status==\"ready\")&&self._info.isOnline){\r\n                if(cc.vv.gameNetMgr.getIsOpen()){\r\n                    self._guanzhan.active = true;\r\n                }\r\n            }\r\n            if(self._info.isOnline){\r\n                self._offline.active = false\r\n            }else{\r\n                self._offline.active = true\r\n            }\r\n            if(self._info.isGrab == false || self._info.isGrab == null ){\r\n                self._fangzhu.active = false;\r\n            }else{\r\n                self._fangzhu.active = true;\r\n            }\r\n        }\r\n        if(this._userName && self._info !== null && self._info.uid !== null){\r\n            this._userName.string = decodeURIComponent(self._info.userName);\r\n            this._userScore.string = self._info.score + \"\";\r\n        }\r\n\t\tif(self._info !== null){\r\n\t\t\tif(self._info.isQiang !== null){\r\n\t\t\t\tif(self._info.isQiang == true){\r\n\t\t\t\t\tself.onShowState(\"graber_icon\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n        }\r\n    },\r\n\r\n    setUserFrame:function(act){\r\n        if(act == true){\r\n           this._userFrame.active = true;\r\n           this._userFrame.opacity = 255;\r\n           var actArr = new Array();\r\n           var action1 = cc.scaleTo(0.15, 1.1); \r\n           var action2 = cc.scaleTo(0.15, 1); \r\n           var action3 = cc.fadeOut(0.1);\r\n           actArr.push(action1)\r\n           actArr.push(action2)\r\n           actArr.push(action3)\r\n           var seq = cc.sequence(actArr);\r\n           this._userFrame.runAction(seq);\r\n           cc.vv.audioMgr.playSFX(\"effect/select.mp3\");\r\n        }else{\r\n            this._userFrame.active = false;\r\n            this._userFrame.opacity = 0;\r\n        }\r\n    },\r\n    hideStatus:function(){\r\n        var self = this;\r\n        self._state.active = false;\r\n    },\r\n    showFrameAction:function(){\r\n        var self = this\r\n        self._userFrame.stopAllActions();\r\n        self._userFrame.active = true;\r\n        self._userFrame.opacity = 255;\r\n        var actArr = new Array();\r\n        var action0 = cc.fadeIn(0.1);\r\n        var action1 = cc.scaleTo(0.4, 1.3); \r\n        var action2 = cc.scaleTo(0.4, 1.05); \r\n        var action3 = cc.blink(0.8, 3); \r\n        var action4 = cc.fadeIn(0.1);\r\n        actArr.push(action0)\r\n        actArr.push(action1)\r\n        actArr.push(action2)\r\n        actArr.push(action3)\r\n        actArr.push(action4)\r\n        var seq = cc.sequence(actArr);\r\n        this._userFrame.runAction(seq);\r\n    },\r\n\r\n\tupdateScore:function(score){\r\n\t\tthis._userScore.string = score + \"\";\r\n\t},\r\n    update: function (dt) {\r\n        if(this._voicemsg!=null){\r\n\t\t\tif(this._voicemsg.active===true){\r\n\t\t\t\tif((Date.now()-this._voicetime>700 && this._voicetime>0)){\r\n\t\t\t\t\tthis._voicetime=Date.now();\r\n\t\t\t\t\tfor(var i = 0; i < this._adj.children.length; ++i){\r\n\t\t\t\t\t\tthis._adj.children[i].active = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis._adj.children[this._voicenum-1].active = true; \r\n\t\t\t\t\tthis._voicenum=this._voicenum-1;\r\n\t\t\t\t\tif(this._voicenum<=0){\r\n\t\t\t\t\t\tthis._voicenum=3;\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n    },\r\n});\r\n"]}