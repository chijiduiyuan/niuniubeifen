{"version":3,"sources":["Time.js"],"names":["cc","Class","extends","Component","properties","_time","_args","_showtime","_eventName","onLoad","init","args","node","active","time","Date","parse","x","y","eventName","getChildByName","getComponent","Label","string","initView","hide","removeFromParent","update","vv","gameNetMgr","dispatchEvent"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,UAASF,GAAGG,SADP;AAELC,aAAY;AACRC,SAAM,EADE;AAEdC,SAAM,IAFQ;AAGdC,aAAU,CAHI;AAIdC,cAAW;AAJG,EAFP;;AASJC,SAAQ,kBAAY,CAEpB,CAXI;;AAaLC,OAAK,cAASC,IAAT,EAAc;AACrB,OAAKC,IAAL,CAAUC,MAAV,GAAmB,KAAnB;AACM,OAAKP,KAAL,GAAaK,IAAb;AACN,OAAKN,KAAL,GAAa,KAAKC,KAAL,CAAWQ,IAAxB;AACA,OAAKP,SAAL,GAAkBQ,KAAKC,KAAL,CAAW,IAAID,IAAJ,EAAX,IAAuB,IAAzC;AACA,OAAKH,IAAL,CAAUK,CAAV,GAAc,KAAKX,KAAL,CAAWW,CAAzB;AACA,OAAKL,IAAL,CAAUM,CAAV,GAAc,KAAKZ,KAAL,CAAWY,CAAzB;AACA,OAAKV,UAAL,GAAkB,KAAKF,KAAL,CAAWa,SAA7B;AACA,OAAKP,IAAL,CAAUQ,cAAV,CAAyB,WAAzB,EAAsCC,YAAtC,CAAmDrB,GAAGsB,KAAtD,EAA6DC,MAA7D,GAAsE,KAAKlB,KAA3E;AACM,OAAKmB,QAAL;AACH,EAvBI;AAwBRA,WAAS,oBAAU;AACZ,OAAKZ,IAAL,CAAUC,MAAV,GAAmB,IAAnB;AACH,EA1BI;AA2BRY,OAAK,gBAAU;AACd,OAAKb,IAAL,CAAUc,gBAAV;AACA,EA7BO;AA8BRC,SAAQ,kBAAY;AACnB,MAAG,KAAKf,IAAL,CAAUC,MAAV,IAAoB,IAAvB,EAA4B;AAC3B,OAAG,KAAKN,SAAL,GAAgB,CAAnB,EAAqB;AACpB,QAAG,KAAKF,KAAL,GAAW,CAAd,EAAgB;AACf,SAAGU,KAAKC,KAAL,CAAW,IAAID,IAAJ,EAAX,IAAuB,IAAvB,IAA+B,KAAKR,SAAL,GAAiB,CAAnD,EAAqD;AACpD,WAAKA,SAAL,GAAkBQ,KAAKC,KAAL,CAAW,IAAID,IAAJ,EAAX,IAAuB,IAAzC;AACA,WAAKV,KAAL,GAAW,KAAKA,KAAL,GAAW,CAAtB;AACA,UAAG,KAAKA,KAAL,GAAW,EAAd,EAAiB;AAChB,YAAKA,KAAL,GAAW,KAAKA,KAAhB;AACA;AACD,WAAKO,IAAL,CAAUQ,cAAV,CAAyB,WAAzB,EAAsCC,YAAtC,CAAmDrB,GAAGsB,KAAtD,EAA6DC,MAA7D,GAAsE,KAAKlB,KAA3E;AACA;AACD,KATD,MASK;AACJ,SAAG,KAAKO,IAAL,CAAUC,MAAV,IAAoB,IAAvB,EAA4B;AAC3B,UAAG,KAAKL,UAAL,IAAiB,IAApB,EAAyB;AACxBR,UAAG4B,EAAH,CAAMC,UAAN,CAAiBC,aAAjB,CAA+B,KAAKtB,UAApC;AACA,YAAKiB,IAAL;AACA;AACD;AACD;AACD,IAlBD,MAkBK,CAEJ;AACD;AACE;AAtDI,CAAT","file":"Time.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\comp","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n        _time:10,\r\n\t\t_args:null,\r\n\t\t_showtime:0,\r\n\t\t_eventName:null,\r\n    },\r\n\r\n     onLoad: function () {\r\n        \r\n    },  \r\n\r\n    init:function(args){\r\n\t\tthis.node.active = false;\r\n        this._args = args;\r\n\t\tthis._time = this._args.time;\r\n\t\tthis._showtime =  Date.parse(new Date())/1000;\r\n\t\tthis.node.x = this._args.x;\r\n\t\tthis.node.y = this._args.y;\r\n\t\tthis._eventName = this._args.eventName;\r\n\t\tthis.node.getChildByName(\"timelabel\").getComponent(cc.Label).string = this._time;\r\n        this.initView();\r\n    },\r\n\tinitView:function(){\r\n        this.node.active = true;\r\n    },\r\n\thide:function(){\r\n\t\tthis.node.removeFromParent();\r\n\t},\r\n\tupdate: function () {\r\n\t\tif(this.node.active == true){\r\n\t\t\tif(this._showtime >0){\r\n\t\t\t\tif(this._time>0){\r\n\t\t\t\t\tif(Date.parse(new Date())/1000 >= this._showtime + 1){\r\n\t\t\t\t\t\tthis._showtime =  Date.parse(new Date())/1000;\r\n\t\t\t\t\t\tthis._time=this._time-1;\r\n\t\t\t\t\t\tif(this._time<10){\r\n\t\t\t\t\t\t\tthis._time=this._time;\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.node.getChildByName(\"timelabel\").getComponent(cc.Label).string = this._time; \r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(this.node.active == true){\r\n\t\t\t\t\t\tif(this._eventName!=null){\r\n\t\t\t\t\t\t\tcc.vv.gameNetMgr.dispatchEvent(this._eventName);\r\n\t\t\t\t\t\t\tthis.hide();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n    },\r\n});\r\n"]}